<html>
<title>Usuarios</title>
<body>
	<form method="post" id="myform" action="javascript:" onsubmit="submitForm()" enctype="application/json">
		<table id="userTable">
			<tr>
				<td>Nome:</td>
		 		<td><input id="txtNome" type="text" name="name"></td>
		 	</tr>
		 	<tr>
				<td>Email:</td>
		 		<td><input id="txtEmail" type="text" name="email"></td>
		 	</tr>
		 	<tr>
				<td></td>
		 		<td align="right"><input type="submit" value="Enviar"/></td>
		 	</tr>
		</table>
	</form>
</body>
</html>

<script src="/iface-profile/js/jquery-3.1.0.min.js"></script>

<script>
function formToJSON(){
     var json = '{"name":"'+$("#txtNome").val()+'","username": "'+$("#txtEmail").val()+'"}';
     return json;
}


function submitForm(){
	var formData = formToJSON();
	alert(formData);
	$.ajax({
		  type: "POST",
		  headers:{
		        "Content-Type":"application/json",
		        "Accept":"application/json"
		  },
		  url: "/iface-profile/service/user",
		  data: formData,
		  success: function(){alert("sucesso")},
		  dataType: "json",
		  contentType : "application/json"
		});
}

</script>